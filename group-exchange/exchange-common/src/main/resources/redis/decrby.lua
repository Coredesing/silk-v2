-- return [ state, value ]-- state 状态 1：成功 0: 余额不足 2: 未初始化-- value 改变后的结果, -1 特殊值，标识失败local balance = redis.call('get',KEYS[1])if not balance then    return {2, -1}endif tonumber(balance) >= tonumber(ARGV[1]) then    local res = redis.call('decrby',KEYS[1],ARGV[1])    if res < 0 then        return {0, redis.call('incrby',KEYS[1],ARGV[1])}    else        return {1, tonumber(res)} endelse    return {0, -1}end